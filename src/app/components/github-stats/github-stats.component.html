<div class="windows-xp-desktop">
  <div class="desktop-icons">
    <!-- Generate desktop icons dynamically -->
    <div *ngFor="let icon of desktopIcons" class="desktop-icon" (dblclick)="openModal(icon.type)">
      <img [src]="icon.iconSrc" [alt]="icon.label + ' Icon'" class="icon-img">
      <span class="icon-label">{{ icon.label }}</span>
    </div>
  </div>

  <!-- Windows XP Taskbar -->
  <div class="windows-taskbar">
    <div class="start-button">
      <img src="assets/icons/winxp-start.png" alt="Start" class="start-logo">
    </div>
    <div class="taskbar-time">
      <span>{{ currentTime | date:'h:mm a' }}</span>
    </div>
  </div>

  <!-- Modal Windows -->
  <div class="windows-modal" *ngIf="activeModal" [class.active]="activeModal">
    <div class="window-header">
      <div class="window-title">
        <img [src]="activeModal.iconSrc" alt="Window Icon" class="window-icon">
        <span>{{ activeModal.title }}</span>
      </div>
      <div class="window-controls">
        <span class="control minimize">_</span>
        <span class="control maximize">□</span>
        <span class="control close" (click)="closeModal()">✕</span>
      </div>
    </div>
    <div class="window-content">
      <!-- Languages Stats -->
      <div *ngIf="activeModal.type === 'languages'" class="stat-card">
        <img 
          src="https://github-readme-stats.vercel.app/api/top-langs/?username=Gabrieleirbag1&layout=donut-vertical&size_weight=0.2&count_weight=0.2&hide=shell,css,html,powershell&hide_border=true" 
          alt="Most Used Languages" 
          class="github-card"
        />
      </div>

      <!-- Profile Stats -->
      <div *ngIf="activeModal.type === 'profile'" class="stat-card">
        <img 
          src="https://github-readme-stats.vercel.app/api?username=Gabrieleirbag1&show_icons=true&theme=buefy&rank_icon=github&hide_border=true" 
          alt="GitHub Stats" 
          class="github-card"
        />
      </div>

      <!-- Contribution Stats -->
      <div *ngIf="activeModal.type === 'contributions'" class="stat-card">
        <img 
          src="https://github-readme-streak-stats.herokuapp.com/?user=Gabrieleirbag1&theme=buefy&hide_border=true" 
          alt="GitHub Streak Stats" 
          class="github-card"
        />
      </div>

      <!-- Stars Stats -->
      <div *ngIf="activeModal.type === 'stars'" class="stat-card stat-icon-card">
        <img [src]="activeModal.iconSrc" alt="Stars Icon" class="icon-card">
        <div>        
          <p class="icon-text icon-text-value">{{ githubStats.stars }}</p>
          <p class="icon-text icon-text-desc">stars earned</p>
        </div>
      </div>
    </div>
    <div class="window-statusbar">
      <span>github.com/Gabrieleirbag1</span>
    </div>
  </div>
</div>