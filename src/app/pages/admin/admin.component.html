<div class="admin-container">  
  <h1>Project Administration</h1>
  
  @if (success) {
    <div class="success-message">
    Project has been added successfully!
    <p><small>Note: In a real app, this would be saved to the server.</small></p>
    </div>
  }
  
  @if (error) {
    <div class="error-message">{{ error }}</div>
  }
  
  <form [formGroup]="projectForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
    <label for="title">Project Title:</label>
    <input type="text" id="title" formControlName="title" class="form-control">
    @if (submitted && projectForm.get('title')?.errors) {
      <div class="error">Title is required</div>
    }
    </div>
    
    <div class="form-group">
    <label for="date">Date:</label>
    <input type="text" id="date" formControlName="date" class="form-control">
    @if (submitted && projectForm.get('date')?.errors) {
      <div class="error">Date is required</div>
    }
    </div>
    
    <div class="form-group">
    <label>Tags:</label>
    <div formArrayName="tags">
      @for (tag of tagsArray.controls; track $index) {
      <div class="array-item">
        <input [formControlName]="$index" class="form-control">
        <button type="button" (click)="removeTag($index)" class="remove-btn">Remove</button>
      </div>
      }
    </div>
    <button type="button" (click)="addTag()" class="add-btn">Add Tag</button>
    </div>
    
    <div class="form-group">
    <label>Description Lines:</label>
    <div formArrayName="description">
      @for (desc of descriptionArray.controls; track $index) {
      <div class="array-item">
        <textarea [formControlName]="$index" class="form-control"></textarea>
        <button type="button" (click)="removeDescription($index)" class="remove-btn">Remove</button>
      </div>
      }
    </div>
    <button type="button" (click)="addDescription()" class="add-btn">Add Description Line</button>
    </div>
    
    <div class="form-group">
    <label>Technologies:</label>
    <div formArrayName="technologies">
      @for (tech of technologiesArray.controls; track $index) {
      <div class="array-item">
        <input [formControlName]="$index" class="form-control">
        <button type="button" (click)="removeTechnology($index)" class="remove-btn">Remove</button>
      </div>
      }
    </div>
    <button type="button" (click)="addTechnology()" class="add-btn">Add Technology</button>
    </div>
    
    <div class="form-group" formGroupName="imageUrl">
    <label>Image URLs:</label>
    <div class="sub-form-group">
      <label for="grid">Grid Image:</label>
      <input type="text" id="grid" formControlName="grid" class="form-control">
      @if (submitted && projectForm.get('imageUrl.grid')?.errors) {
      <div class="error">Grid image URL is required</div>
      }
    </div>
    <div class="sub-form-group">
      <label for="list">List Image:</label>
      <input type="text" id="list" formControlName="list" class="form-control">
      @if (submitted && projectForm.get('imageUrl.list')?.errors) {
      <div class="error">List image URL is required</div>
      }
    </div>
    </div>
    
    <div class="form-group">
    <label for="link">Project Link:</label>
    <input type="text" id="link" formControlName="link" class="form-control">
    @if (submitted && projectForm.get('link')?.errors) {
      <div class="error">Link is required</div>
    }
    </div>
    
    <button type="submit" class="submit-btn" [disabled]="submitted">
    {{ submitted ? 'Saving...' : 'Save Project' }}
    </button>
  </form>
  
  <div class="note">
    <p><strong>Note:</strong> This form can only display what would be saved. In a real application, 
    you would need a backend API to actually save the data to the projects.json file.</p>
  </div>
</div>